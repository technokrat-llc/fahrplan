<head>
	<title>TramBam</title>

	<meta name="google" content="notranslate" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta names="apple-mobile-web-app-status-bar-style" content="black-translucent" />
</head>

<body>
	{{#if failure}}
		<div id="service_failure">
			<img src="img/disconnected_white.svg" />
			<h1>Bad connection</h1>
			<br><br>
			<h2 class="station_name">{{{station_name}}}</h2>
			<h2 class="time"></h2>
		</div>
	{{else}}
		<div id="schedule">
			<div class="body new">
				{{#each connections}}
					{{> connection}}
				{{/each}}
			</div>
			<div class="footer">
				<p class="station_name new">{{{station_name}}}</p>
				<p class="time new"></p>
			</div>
		</div>
	{{/if}}
</body>

<template name="connection">
	<div class="connection">
		<style scoped>
			.line {
				color: {{hafas_raw.product.line.color.fg}};
				background-color: {{hafas_raw.product.line.color.bg}};
			}
		</style>
		<div class="line">{{hafas_raw.product.line}}</div>
		<div class="countdown">{{hafas_raw.mainLocation.realTime.countdown}}</div>
		<div class="destination">{{{hafas_raw.product.direction}}}</div>
	</div>
</template>